function pause(e){$.get(baseUrl+"/AccionesAsterisk/memberPause",{extension:$exten,paused:e})}function verifyNumber(e){$completeNumber="";if(e.length==8||e.length==9){$completeNumber="0"+e}if(e.startsWith("593")){$completeNumber=e.replace("593","0")}if(e.startsWith("+593")){$completeNumber=e.replace("+593","0")}if(e.startsWith("5930")){$completeNumber=e.replace("+5930","0")}return $completeNumber}$(document).ready(function(){$display=$("#keypad-display");$callManageUniqueId=$("#callManageUniqueId");$exten=$("#extension").val();var e=$("#modal-show-alert");var t=$("#alert-message-container");$(".spy-call-agent").click(function(e){$.get(baseUrl+"/AccionesAsterisk/makeASpyChannel",{exten:"SIP/"+$exten,min:"SIP/"+$(this).attr("id")},function(e){console.log(e)})});$("#keypad-calling .col-key").click(function(){$number=$display.val();if($number){showModal("calling");$("#calling-number").text($number);$display.css("border","1px solid #666");$.get(baseUrl+"/AccionesAsterisk/makeACall",{numero:$number,exten:$exten},function(e){localStorage.setItem("uniqueId",e);if($callManageUniqueId!="undefined"){$callManageUniqueId.val(e)}})}else{$display.css("border","2px solid red").focus()}});$("#calling-hangout .col-key").click(function(){hideModal("#modal-calling");$.get(baseUrl+"/AccionesAsterisk/makeAHangup",{extension:$exten},function(e){$("#operator-btn-call").show();$("#operator-btn-hangout").hide();$display.focus()})});$("#calling-mute").click(function(){if($(this).hasClass("mute")){$.get(baseUrl+"/AccionesAsterisk/muteAChannel",{extension:$exten,muted:"on"},function(e){$("#calling-mute > div > i").removeClass("fa-microphone-slash").addClass("fa-microphone");$("#calling-mute > div").css("background-color","red");$("#calling-mute").removeClass("mute").addClass("unmute")})}else if($(this).hasClass("unmute")){$.get(baseUrl+"/AccionesAsterisk/muteAChannel",{extension:$exten,muted:"off"},function(e){$("#calling-mute > div > i").removeClass("fa-microphone").addClass("fa-microphone-slash");$("#calling-mute > div").css("background-color","green");$("#calling-mute").removeClass("unmute").addClass("mute")})}});$("#service-calling").click(function(){$phoneNumber=$("#phone-number-"+$management_phone_number_id[2]).text();$number=verifyNumber($phoneNumber);if($number!=""){showModal("calling");$("#calling-number").text($number);$("#box-call-services").hide();$.get(baseUrl+"/AccionesAsterisk/makeACall",{numero:$number,exten:$exten},function(e){localStorage.setItem("uniqueId",e);if($callManageUniqueId!="undefined"){$callManageUniqueId.val(e)}})}else{e.modal();t.text("¡Número de teléfono invalido!")}});$("#service-sms").click(function(){e.modal();t.text("¡SMS!")});$("#service-whatsapp").click(function(){e.modal();t.text("¡Whatsapp!")})})