(function(e,t){if(typeof define==="function"&&define.amd){define(["moment","jquery"],function(n,r){return e.daterangepicker=t(n,r)})}else if(typeof module==="object"&&module.exports){var n=typeof window!="undefined"?window.jQuery:undefined;if(!n){n=require("jquery");if(!n.fn)n.fn={}}module.exports=t(require("moment"),n)}else{e.daterangepicker=t(e.moment,e.jQuery)}})(this,function(e,t){var n=function(n,r,i){this.parentEl="body";this.element=t(n);this.startDate=e().startOf("day");this.endDate=e().endOf("day");this.minDate=false;this.maxDate=false;this.dateLimit=false;this.autoApply=false;this.singleDatePicker=false;this.showDropdowns=false;this.showWeekNumbers=false;this.showISOWeekNumbers=false;this.timePicker=false;this.timePicker24Hour=false;this.timePickerIncrement=1;this.timePickerSeconds=false;this.linkedCalendars=true;this.autoUpdateInput=true;this.alwaysShowCalendars=false;this.ranges={};this.opens="right";if(this.element.hasClass("pull-right"))this.opens="left";this.drops="down";if(this.element.hasClass("dropup"))this.drops="up";this.buttonClasses="btn btn-sm";this.applyClass="btn-success";this.cancelClass="btn-default";this.locale={direction:"ltr",format:"MM/DD/YYYY",separator:" - ",applyLabel:"Apply",cancelLabel:"Cancel",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:e.weekdaysMin(),monthNames:e.monthsShort(),firstDay:e.localeData().firstDayOfWeek()};this.callback=function(){};this.isShowing=false;this.leftCalendar={};this.rightCalendar={};if(typeof r!=="object"||r===null)r={};r=t.extend(this.element.data(),r);if(typeof r.template!=="string"&&!(r.template instanceof t))r.template='<div class="daterangepicker dropdown-menu">'+'<div class="calendar left">'+'<div class="daterangepicker_input">'+'<input class="input-mini form-control" type="text" name="daterangepicker_start" value="" />'+'<i class="fa fa-calendar glyphicon glyphicon-calendar"></i>'+'<div class="calendar-time">'+"<div></div>"+'<i class="fa fa-clock-o glyphicon glyphicon-time"></i>'+"</div>"+"</div>"+'<div class="calendar-table"></div>'+"</div>"+'<div class="calendar right">'+'<div class="daterangepicker_input">'+'<input class="input-mini form-control" type="text" name="daterangepicker_end" value="" />'+'<i class="fa fa-calendar glyphicon glyphicon-calendar"></i>'+'<div class="calendar-time">'+"<div></div>"+'<i class="fa fa-clock-o glyphicon glyphicon-time"></i>'+"</div>"+"</div>"+'<div class="calendar-table"></div>'+"</div>"+'<div class="ranges">'+'<div class="range_inputs">'+'<button class="applyBtn" disabled="disabled" type="button"></button> '+'<button class="cancelBtn" type="button"></button>'+"</div>"+"</div>"+"</div>";this.parentEl=r.parentEl&&t(r.parentEl).length?t(r.parentEl):t(this.parentEl);this.container=t(r.template).appendTo(this.parentEl);if(typeof r.locale==="object"){if(typeof r.locale.direction==="string")this.locale.direction=r.locale.direction;if(typeof r.locale.format==="string")this.locale.format=r.locale.format;if(typeof r.locale.separator==="string")this.locale.separator=r.locale.separator;if(typeof r.locale.daysOfWeek==="object")this.locale.daysOfWeek=r.locale.daysOfWeek.slice();if(typeof r.locale.monthNames==="object")this.locale.monthNames=r.locale.monthNames.slice();if(typeof r.locale.firstDay==="number")this.locale.firstDay=r.locale.firstDay;if(typeof r.locale.applyLabel==="string")this.locale.applyLabel=r.locale.applyLabel;if(typeof r.locale.cancelLabel==="string")this.locale.cancelLabel=r.locale.cancelLabel;if(typeof r.locale.weekLabel==="string")this.locale.weekLabel=r.locale.weekLabel;if(typeof r.locale.customRangeLabel==="string")this.locale.customRangeLabel=r.locale.customRangeLabel}this.container.addClass(this.locale.direction);if(typeof r.startDate==="string")this.startDate=e(r.startDate,this.locale.format);if(typeof r.endDate==="string")this.endDate=e(r.endDate,this.locale.format);if(typeof r.minDate==="string")this.minDate=e(r.minDate,this.locale.format);if(typeof r.maxDate==="string")this.maxDate=e(r.maxDate,this.locale.format);if(typeof r.startDate==="object")this.startDate=e(r.startDate);if(typeof r.endDate==="object")this.endDate=e(r.endDate);if(typeof r.minDate==="object")this.minDate=e(r.minDate);if(typeof r.maxDate==="object")this.maxDate=e(r.maxDate);if(this.minDate&&this.startDate.isBefore(this.minDate))this.startDate=this.minDate.clone();if(this.maxDate&&this.endDate.isAfter(this.maxDate))this.endDate=this.maxDate.clone();if(typeof r.applyClass==="string")this.applyClass=r.applyClass;if(typeof r.cancelClass==="string")this.cancelClass=r.cancelClass;if(typeof r.dateLimit==="object")this.dateLimit=r.dateLimit;if(typeof r.opens==="string")this.opens=r.opens;if(typeof r.drops==="string")this.drops=r.drops;if(typeof r.showWeekNumbers==="boolean")this.showWeekNumbers=r.showWeekNumbers;if(typeof r.showISOWeekNumbers==="boolean")this.showISOWeekNumbers=r.showISOWeekNumbers;if(typeof r.buttonClasses==="string")this.buttonClasses=r.buttonClasses;if(typeof r.buttonClasses==="object")this.buttonClasses=r.buttonClasses.join(" ");if(typeof r.showDropdowns==="boolean")this.showDropdowns=r.showDropdowns;if(typeof r.singleDatePicker==="boolean"){this.singleDatePicker=r.singleDatePicker;if(this.singleDatePicker)this.endDate=this.startDate.clone()}if(typeof r.timePicker==="boolean")this.timePicker=r.timePicker;if(typeof r.timePickerSeconds==="boolean")this.timePickerSeconds=r.timePickerSeconds;if(typeof r.timePickerIncrement==="number")this.timePickerIncrement=r.timePickerIncrement;if(typeof r.timePicker24Hour==="boolean")this.timePicker24Hour=r.timePicker24Hour;if(typeof r.autoApply==="boolean")this.autoApply=r.autoApply;if(typeof r.autoUpdateInput==="boolean")this.autoUpdateInput=r.autoUpdateInput;if(typeof r.linkedCalendars==="boolean")this.linkedCalendars=r.linkedCalendars;if(typeof r.isInvalidDate==="function")this.isInvalidDate=r.isInvalidDate;if(typeof r.isCustomDate==="function")this.isCustomDate=r.isCustomDate;if(typeof r.alwaysShowCalendars==="boolean")this.alwaysShowCalendars=r.alwaysShowCalendars;if(this.locale.firstDay!=0){var s=this.locale.firstDay;while(s>0){this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift());s--}}var o,u,a;if(typeof r.startDate==="undefined"&&typeof r.endDate==="undefined"){if(t(this.element).is("input[type=text]")){var f=t(this.element).val(),l=f.split(this.locale.separator);o=u=null;if(l.length==2){o=e(l[0],this.locale.format);u=e(l[1],this.locale.format)}else if(this.singleDatePicker&&f!==""){o=e(f,this.locale.format);u=e(f,this.locale.format)}if(o!==null&&u!==null){this.setStartDate(o);this.setEndDate(u)}}}if(typeof r.ranges==="object"){for(a in r.ranges){if(typeof r.ranges[a][0]==="string")o=e(r.ranges[a][0],this.locale.format);else o=e(r.ranges[a][0]);if(typeof r.ranges[a][1]==="string")u=e(r.ranges[a][1],this.locale.format);else u=e(r.ranges[a][1]);if(this.minDate&&o.isBefore(this.minDate))o=this.minDate.clone();var c=this.maxDate;if(this.dateLimit&&c&&o.clone().add(this.dateLimit).isAfter(c))c=o.clone().add(this.dateLimit);if(c&&u.isAfter(c))u=c.clone();if(this.minDate&&u.isBefore(this.minDate,this.timepicker?"minute":"day")||c&&o.isAfter(c,this.timepicker?"minute":"day"))continue;var h=document.createElement("textarea");h.innerHTML=a;var p=h.value;this.ranges[p]=[o,u]}var d="<ul>";for(a in this.ranges){d+="<li>"+a+"</li>"}d+="<li>"+this.locale.customRangeLabel+"</li>";d+="</ul>";this.container.find(".ranges").prepend(d)}if(typeof i==="function"){this.callback=i}if(!this.timePicker){this.startDate=this.startDate.startOf("day");this.endDate=this.endDate.endOf("day");this.container.find(".calendar-time").hide()}if(this.timePicker&&this.autoApply)this.autoApply=false;if(this.autoApply&&typeof r.ranges!=="object"){this.container.find(".ranges").hide()}else if(this.autoApply){this.container.find(".applyBtn, .cancelBtn").addClass("hide")}if(this.singleDatePicker){this.container.addClass("single");this.container.find(".calendar.left").addClass("single");this.container.find(".calendar.left").show();this.container.find(".calendar.right").hide();this.container.find(".daterangepicker_input input, .daterangepicker_input > i").hide();if(!this.timePicker){this.container.find(".ranges").hide()}}if(typeof r.ranges==="undefined"&&!this.singleDatePicker||this.alwaysShowCalendars){this.container.addClass("show-calendar")}this.container.addClass("opens"+this.opens);if(typeof r.ranges!=="undefined"&&this.opens=="right"){this.container.find(".ranges").prependTo(this.container.find(".calendar.left").parent())}this.container.find(".applyBtn, .cancelBtn").addClass(this.buttonClasses);if(this.applyClass.length)this.container.find(".applyBtn").addClass(this.applyClass);if(this.cancelClass.length)this.container.find(".cancelBtn").addClass(this.cancelClass);this.container.find(".applyBtn").html(this.locale.applyLabel);this.container.find(".cancelBtn").html(this.locale.cancelLabel);this.container.find(".calendar").on("click.daterangepicker",".prev",t.proxy(this.clickPrev,this)).on("click.daterangepicker",".next",t.proxy(this.clickNext,this)).on("click.daterangepicker","td.available",t.proxy(this.clickDate,this)).on("mouseenter.daterangepicker","td.available",t.proxy(this.hoverDate,this)).on("mouseleave.daterangepicker","td.available",t.proxy(this.updateFormInputs,this)).on("change.daterangepicker","select.yearselect",t.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.monthselect",t.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.hourselect,select.minuteselect,select.secondselect,select.ampmselect",t.proxy(this.timeChanged,this)).on("click.daterangepicker",".daterangepicker_input input",t.proxy(this.showCalendars,this)).on("change.daterangepicker",".daterangepicker_input input",t.proxy(this.formInputsChanged,this));this.container.find(".ranges").on("click.daterangepicker","button.applyBtn",t.proxy(this.clickApply,this)).on("click.daterangepicker","button.cancelBtn",t.proxy(this.clickCancel,this)).on("click.daterangepicker","li",t.proxy(this.clickRange,this)).on("mouseenter.daterangepicker","li",t.proxy(this.hoverRange,this)).on("mouseleave.daterangepicker","li",t.proxy(this.updateFormInputs,this));if(this.element.is("input")||this.element.is("button")){this.element.on({"click.daterangepicker":t.proxy(this.show,this),"focus.daterangepicker":t.proxy(this.show,this),"keyup.daterangepicker":t.proxy(this.elementChanged,this),"keydown.daterangepicker":t.proxy(this.keydown,this)})}else{this.element.on("click.daterangepicker",t.proxy(this.toggle,this))}if(this.element.is("input")&&!this.singleDatePicker&&this.autoUpdateInput){this.element.val(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format));this.element.trigger("change")}else if(this.element.is("input")&&this.autoUpdateInput){this.element.val(this.startDate.format(this.locale.format));this.element.trigger("change")}};n.prototype={constructor:n,setStartDate:function(t){if(typeof t==="string")this.startDate=e(t,this.locale.format);if(typeof t==="object")this.startDate=e(t);if(!this.timePicker)this.startDate=this.startDate.startOf("day");if(this.timePicker&&this.timePickerIncrement)this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement);if(this.minDate&&this.startDate.isBefore(this.minDate)){this.startDate=this.minDate;if(this.timePicker&&this.timePickerIncrement)this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement)}if(this.maxDate&&this.startDate.isAfter(this.maxDate)){this.startDate=this.maxDate;if(this.timePicker&&this.timePickerIncrement)this.startDate.minute(Math.floor(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement)}if(!this.isShowing)this.updateElement();this.updateMonthsInView()},setEndDate:function(t){if(typeof t==="string")this.endDate=e(t,this.locale.format);if(typeof t==="object")this.endDate=e(t);if(!this.timePicker)this.endDate=this.endDate.endOf("day");if(this.timePicker&&this.timePickerIncrement)this.endDate.minute(Math.round(this.endDate.minute()/this.timePickerIncrement)*this.timePickerIncrement);if(this.endDate.isBefore(this.startDate))this.endDate=this.startDate.clone();if(this.maxDate&&this.endDate.isAfter(this.maxDate))this.endDate=this.maxDate;if(this.dateLimit&&this.startDate.clone().add(this.dateLimit).isBefore(this.endDate))this.endDate=this.startDate.clone().add(this.dateLimit);this.previousRightTime=this.endDate.clone();if(!this.isShowing)this.updateElement();this.updateMonthsInView()},isInvalidDate:function(){return false},isCustomDate:function(){return false},updateView:function(){if(this.timePicker){this.renderTimePicker("left");this.renderTimePicker("right");if(!this.endDate){this.container.find(".right .calendar-time select").attr("disabled","disabled").addClass("disabled")}else{this.container.find(".right .calendar-time select").removeAttr("disabled").removeClass("disabled")}}if(this.endDate){this.container.find('input[name="daterangepicker_end"]').removeClass("active");this.container.find('input[name="daterangepicker_start"]').addClass("active")}else{this.container.find('input[name="daterangepicker_end"]').addClass("active");this.container.find('input[name="daterangepicker_start"]').removeClass("active")}this.updateMonthsInView();this.updateCalendars();this.updateFormInputs()},updateMonthsInView:function(){if(this.endDate){if(!this.singleDatePicker&&this.leftCalendar.month&&this.rightCalendar.month&&(this.startDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.startDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM"))&&(this.endDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.endDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM"))){return}this.leftCalendar.month=this.startDate.clone().date(2);if(!this.linkedCalendars&&(this.endDate.month()!=this.startDate.month()||this.endDate.year()!=this.startDate.year())){this.rightCalendar.month=this.endDate.clone().date(2)}else{this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month")}}else{if(this.leftCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&this.rightCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")){this.leftCalendar.month=this.startDate.clone().date(2);this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month")}}if(this.maxDate&&this.linkedCalendars&&!this.singleDatePicker&&this.rightCalendar.month>this.maxDate){this.rightCalendar.month=this.maxDate.clone().date(2);this.leftCalendar.month=this.maxDate.clone().date(2).subtract(1,"month")}},updateCalendars:function(){if(this.timePicker){var e,t,n;if(this.endDate){e=parseInt(this.container.find(".left .hourselect").val(),10);t=parseInt(this.container.find(".left .minuteselect").val(),10);n=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0;if(!this.timePicker24Hour){var r=this.container.find(".left .ampmselect").val();if(r==="PM"&&e<12)e+=12;if(r==="AM"&&e===12)e=0}}else{e=parseInt(this.container.find(".right .hourselect").val(),10);t=parseInt(this.container.find(".right .minuteselect").val(),10);n=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0;if(!this.timePicker24Hour){var r=this.container.find(".right .ampmselect").val();if(r==="PM"&&e<12)e+=12;if(r==="AM"&&e===12)e=0}}this.leftCalendar.month.hour(e).minute(t).second(n);this.rightCalendar.month.hour(e).minute(t).second(n)}this.renderCalendar("left");this.renderCalendar("right");this.container.find(".ranges li").removeClass("active");if(this.endDate==null)return;this.calculateChosenLabel()},renderCalendar:function(n){var r=n=="left"?this.leftCalendar:this.rightCalendar;var i=r.month.month();var s=r.month.year();var o=r.month.hour();var u=r.month.minute();var a=r.month.second();var f=e([s,i]).daysInMonth();var l=e([s,i,1]);var c=e([s,i,f]);var h=e(l).subtract(1,"month").month();var p=e(l).subtract(1,"month").year();var d=e([p,h]).daysInMonth();var v=l.day();var r=[];r.firstDay=l;r.lastDay=c;for(var m=0;m<6;m++){r[m]=[]}var g=d-v+this.locale.firstDay+1;if(g>d)g-=7;if(v==this.locale.firstDay)g=d-6;var y=e([p,h,g,12,u,a]);var b,w;for(var m=0,b=0,w=0;m<42;m++,b++,y=e(y).add(24,"hour")){if(m>0&&b%7===0){b=0;w++}r[w][b]=y.clone().hour(o).minute(u).second(a);y.hour(12);if(this.minDate&&r[w][b].format("YYYY-MM-DD")==this.minDate.format("YYYY-MM-DD")&&r[w][b].isBefore(this.minDate)&&n=="left"){r[w][b]=this.minDate.clone()}if(this.maxDate&&r[w][b].format("YYYY-MM-DD")==this.maxDate.format("YYYY-MM-DD")&&r[w][b].isAfter(this.maxDate)&&n=="right"){r[w][b]=this.maxDate.clone()}}if(n=="left"){this.leftCalendar.calendar=r}else{this.rightCalendar.calendar=r}var E=n=="left"?this.minDate:this.startDate;var S=this.maxDate;var x=n=="left"?this.startDate:this.endDate;var T=this.locale.direction=="ltr"?{left:"chevron-left",right:"chevron-right"}:{left:"chevron-right",right:"chevron-left"};var N='<table class="table-condensed">';N+="<thead>";N+="<tr>";if(this.showWeekNumbers||this.showISOWeekNumbers)N+="<th></th>";if((!E||E.isBefore(r.firstDay))&&(!this.linkedCalendars||n=="left")){N+='<th class="prev available"><i class="fa fa-'+T.left+" glyphicon glyphicon-"+T.left+'"></i></th>'}else{N+="<th></th>"}var C=this.locale.monthNames[r[1][1].month()]+r[1][1].format(" YYYY");if(this.showDropdowns){var k=r[1][1].month();var L=r[1][1].year();var A=S&&S.year()||L+5;var O=E&&E.year()||L-50;var M=L==O;var _=L==A;var D='<select class="monthselect">';for(var P=0;P<12;P++){if((!M||P>=E.month())&&(!_||P<=S.month())){D+="<option value='"+P+"'"+(P===k?" selected='selected'":"")+">"+this.locale.monthNames[P]+"</option>"}else{D+="<option value='"+P+"'"+(P===k?" selected='selected'":"")+" disabled='disabled'>"+this.locale.monthNames[P]+"</option>"}}D+="</select>";var H='<select class="yearselect">';for(var B=O;B<=A;B++){H+='<option value="'+B+'"'+(B===L?' selected="selected"':"")+">"+B+"</option>"}H+="</select>";C=D+H}N+='<th colspan="5" class="month">'+C+"</th>";if((!S||S.isAfter(r.lastDay))&&(!this.linkedCalendars||n=="right"||this.singleDatePicker)){N+='<th class="next available"><i class="fa fa-'+T.right+" glyphicon glyphicon-"+T.right+'"></i></th>'}else{N+="<th></th>"}N+="</tr>";N+="<tr>";if(this.showWeekNumbers||this.showISOWeekNumbers)N+='<th class="week">'+this.locale.weekLabel+"</th>";t.each(this.locale.daysOfWeek,function(e,t){N+="<th>"+t+"</th>"});N+="</tr>";N+="</thead>";N+="<tbody>";if(this.endDate==null&&this.dateLimit){var j=this.startDate.clone().add(this.dateLimit).endOf("day");if(!S||j.isBefore(S)){S=j}}for(var w=0;w<6;w++){N+="<tr>";if(this.showWeekNumbers)N+='<td class="week">'+r[w][0].week()+"</td>";else if(this.showISOWeekNumbers)N+='<td class="week">'+r[w][0].isoWeek()+"</td>";for(var b=0;b<7;b++){var F=[];if(r[w][b].isSame(new Date,"day"))F.push("today");if(r[w][b].isoWeekday()>5)F.push("weekend");if(r[w][b].month()!=r[1][1].month())F.push("off");if(this.minDate&&r[w][b].isBefore(this.minDate,"day"))F.push("off","disabled");if(S&&r[w][b].isAfter(S,"day"))F.push("off","disabled");if(this.isInvalidDate(r[w][b]))F.push("off","disabled");if(r[w][b].format("YYYY-MM-DD")==this.startDate.format("YYYY-MM-DD"))F.push("active","start-date");if(this.endDate!=null&&r[w][b].format("YYYY-MM-DD")==this.endDate.format("YYYY-MM-DD"))F.push("active","end-date");if(this.endDate!=null&&r[w][b]>this.startDate&&r[w][b]<this.endDate)F.push("in-range");var I=this.isCustomDate(r[w][b]);if(I!==false){if(typeof I==="string")F.push(I);else Array.prototype.push.apply(F,I)}var q="",R=false;for(var m=0;m<F.length;m++){q+=F[m]+" ";if(F[m]=="disabled")R=true}if(!R)q+="available";N+='<td class="'+q.replace(/^\s+|\s+$/g,"")+'" data-title="'+"r"+w+"c"+b+'">'+r[w][b].date()+"</td>"}N+="</tr>"}N+="</tbody>";N+="</table>";this.container.find(".calendar."+n+" .calendar-table").html(N)},renderTimePicker:function(e){var t,n,r,i=this.maxDate;if(this.dateLimit&&(!this.maxDate||this.startDate.clone().add(this.dateLimit).isAfter(this.maxDate)))i=this.startDate.clone().add(this.dateLimit);if(e=="left"){n=this.startDate.clone();r=this.minDate}else if(e=="right"){n=this.endDate?this.endDate.clone():this.previousRightTime.clone();r=this.startDate;var s=this.container.find(".calendar.right .calendar-time div");if(s.html()!=""){n.hour(s.find(".hourselect option:selected").val()||n.hour());n.minute(s.find(".minuteselect option:selected").val()||n.minute());n.second(s.find(".secondselect option:selected").val()||n.second());if(!this.timePicker24Hour){var o=s.find(".ampmselect option:selected").val();if(o==="PM"&&n.hour()<12)n.hour(n.hour()+12);if(o==="AM"&&n.hour()===12)n.hour(0)}if(n.isBefore(this.startDate))n=this.startDate.clone();if(i&&n.isAfter(i))n=i.clone()}}t='<select class="hourselect">';var u=this.timePicker24Hour?0:1;var a=this.timePicker24Hour?23:12;for(var f=u;f<=a;f++){var l=f;if(!this.timePicker24Hour)l=n.hour()>=12?f==12?12:f+12:f==12?0:f;var c=n.clone().hour(l);var h=false;if(r&&c.minute(59).isBefore(r))h=true;if(i&&c.minute(0).isAfter(i))h=true;if(l==n.hour()&&!h){t+='<option value="'+f+'" selected="selected">'+f+"</option>"}else if(h){t+='<option value="'+f+'" disabled="disabled" class="disabled">'+f+"</option>"}else{t+='<option value="'+f+'">'+f+"</option>"}}t+="</select> ";t+=': <select class="minuteselect">';for(var f=0;f<60;f+=this.timePickerIncrement){var p=f<10?"0"+f:f;var c=n.clone().minute(f);var h=false;if(r&&c.second(59).isBefore(r))h=true;if(i&&c.second(0).isAfter(i))h=true;if(n.minute()==f&&!h){t+='<option value="'+f+'" selected="selected">'+p+"</option>"}else if(h){t+='<option value="'+f+'" disabled="disabled" class="disabled">'+p+"</option>"}else{t+='<option value="'+f+'">'+p+"</option>"}}t+="</select> ";if(this.timePickerSeconds){t+=': <select class="secondselect">';for(var f=0;f<60;f++){var p=f<10?"0"+f:f;var c=n.clone().second(f);var h=false;if(r&&c.isBefore(r))h=true;if(i&&c.isAfter(i))h=true;if(n.second()==f&&!h){t+='<option value="'+f+'" selected="selected">'+p+"</option>"}else if(h){t+='<option value="'+f+'" disabled="disabled" class="disabled">'+p+"</option>"}else{t+='<option value="'+f+'">'+p+"</option>"}}t+="</select> "}if(!this.timePicker24Hour){t+='<select class="ampmselect">';var d="";var v="";if(r&&n.clone().hour(12).minute(0).second(0).isBefore(r))d=' disabled="disabled" class="disabled"';if(i&&n.clone().hour(0).minute(0).second(0).isAfter(i))v=' disabled="disabled" class="disabled"';if(n.hour()>=12){t+='<option value="AM"'+d+'>AM</option><option value="PM" selected="selected"'+v+">PM</option>"}else{t+='<option value="AM" selected="selected"'+d+'>AM</option><option value="PM"'+v+">PM</option>"}t+="</select>"}this.container.find(".calendar."+e+" .calendar-time div").html(t)},updateFormInputs:function(){if(this.container.find("input[name=daterangepicker_start]").is(":focus")||this.container.find("input[name=daterangepicker_end]").is(":focus"))return;this.container.find("input[name=daterangepicker_start]").val(this.startDate.format(this.locale.format));if(this.endDate)this.container.find("input[name=daterangepicker_end]").val(this.endDate.format(this.locale.format));if(this.singleDatePicker||this.endDate&&(this.startDate.isBefore(this.endDate)||this.startDate.isSame(this.endDate))){this.container.find("button.applyBtn").removeAttr("disabled")}else{this.container.find("button.applyBtn").attr("disabled","disabled")}},move:function(){var e={top:0,left:0},n;var r=t(window).width();if(!this.parentEl.is("body")){e={top:this.parentEl.offset().top-this.parentEl.scrollTop(),left:this.parentEl.offset().left-this.parentEl.scrollLeft()};r=this.parentEl[0].clientWidth+this.parentEl.offset().left}if(this.drops=="up")n=this.element.offset().top-this.container.outerHeight()-e.top;else n=this.element.offset().top+this.element.outerHeight()-e.top;this.container[this.drops=="up"?"addClass":"removeClass"]("dropup");if(this.opens=="left"){this.container.css({top:n,right:r-this.element.offset().left-this.element.outerWidth(),left:"auto"});if(this.container.offset().left<0){this.container.css({right:"auto",left:9})}}else if(this.opens=="center"){this.container.css({top:n,left:this.element.offset().left-e.left+this.element.outerWidth()/2-this.container.outerWidth()/2,right:"auto"});if(this.container.offset().left<0){this.container.css({right:"auto",left:9})}}else{this.container.css({top:n,left:this.element.offset().left-e.left,right:"auto"});if(this.container.offset().left+this.container.outerWidth()>t(window).width()){this.container.css({left:"auto",right:0})}}},show:function(e){if(this.isShowing)return;this._outsideClickProxy=t.proxy(function(e){this.outsideClick(e)},this);t(document).on("mousedown.daterangepicker",this._outsideClickProxy).on("touchend.daterangepicker",this._outsideClickProxy).on("click.daterangepicker","[data-toggle=dropdown]",this._outsideClickProxy).on("focusin.daterangepicker",this._outsideClickProxy);t(window).on("resize.daterangepicker",t.proxy(function(e){this.move(e)},this));this.oldStartDate=this.startDate.clone();this.oldEndDate=this.endDate.clone();this.previousRightTime=this.endDate.clone();this.updateView();this.container.show();this.move();this.element.trigger("show.daterangepicker",this);this.isShowing=true},hide:function(e){if(!this.isShowing)return;if(!this.endDate){this.startDate=this.oldStartDate.clone();this.endDate=this.oldEndDate.clone()}if(!this.startDate.isSame(this.oldStartDate)||!this.endDate.isSame(this.oldEndDate))this.callback(this.startDate,this.endDate,this.chosenLabel);this.updateElement();t(document).off(".daterangepicker");t(window).off(".daterangepicker");this.container.hide();this.element.trigger("hide.daterangepicker",this);this.isShowing=false},toggle:function(e){if(this.isShowing){this.hide()}else{this.show()}},outsideClick:function(e){var n=t(e.target);if(e.type=="focusin"||n.closest(this.element).length||n.closest(this.container).length||n.closest(".calendar-table").length)return;this.hide()},showCalendars:function(){this.container.addClass("show-calendar");this.move();this.element.trigger("showCalendar.daterangepicker",this)},hideCalendars:function(){this.container.removeClass("show-calendar");this.element.trigger("hideCalendar.daterangepicker",this)},hoverRange:function(e){if(this.container.find("input[name=daterangepicker_start]").is(":focus")||this.container.find("input[name=daterangepicker_end]").is(":focus"))return;var t=e.target.innerHTML;if(t==this.locale.customRangeLabel){this.updateView()}else{var n=this.ranges[t];this.container.find("input[name=daterangepicker_start]").val(n[0].format(this.locale.format));this.container.find("input[name=daterangepicker_end]").val(n[1].format(this.locale.format))}},clickRange:function(e){var t=e.target.innerHTML;this.chosenLabel=t;if(t==this.locale.customRangeLabel){this.showCalendars()}else{var n=this.ranges[t];this.startDate=n[0];this.endDate=n[1];if(!this.timePicker){this.startDate.startOf("day");this.endDate.endOf("day")}if(!this.alwaysShowCalendars)this.hideCalendars();this.clickApply()}},clickPrev:function(e){var n=t(e.target).parents(".calendar");if(n.hasClass("left")){this.leftCalendar.month.subtract(1,"month");if(this.linkedCalendars)this.rightCalendar.month.subtract(1,"month")}else{this.rightCalendar.month.subtract(1,"month")}this.updateCalendars()},clickNext:function(e){var n=t(e.target).parents(".calendar");if(n.hasClass("left")){this.leftCalendar.month.add(1,"month")}else{this.rightCalendar.month.add(1,"month");if(this.linkedCalendars)this.leftCalendar.month.add(1,"month")}this.updateCalendars()},hoverDate:function(e){if(this.container.find("input[name=daterangepicker_start]").is(":focus")||this.container.find("input[name=daterangepicker_end]").is(":focus"))return;if(!t(e.target).hasClass("available"))return;var n=t(e.target).attr("data-title");var r=n.substr(1,1);var i=n.substr(3,1);var s=t(e.target).parents(".calendar");var o=s.hasClass("left")?this.leftCalendar.calendar[r][i]:this.rightCalendar.calendar[r][i];if(this.endDate){this.container.find("input[name=daterangepicker_start]").val(o.format(this.locale.format))}else{this.container.find("input[name=daterangepicker_end]").val(o.format(this.locale.format))}var u=this.leftCalendar;var a=this.rightCalendar;var f=this.startDate;if(!this.endDate){this.container.find(".calendar td").each(function(e,n){if(t(n).hasClass("week"))return;var r=t(n).attr("data-title");var i=r.substr(1,1);var s=r.substr(3,1);var l=t(n).parents(".calendar");var c=l.hasClass("left")?u.calendar[i][s]:a.calendar[i][s];if(c.isAfter(f)&&c.isBefore(o)||c.isSame(o,"day")){t(n).addClass("in-range")}else{t(n).removeClass("in-range")}})}},clickDate:function(e){if(!t(e.target).hasClass("available"))return;var n=t(e.target).attr("data-title");var r=n.substr(1,1);var i=n.substr(3,1);var s=t(e.target).parents(".calendar");var o=s.hasClass("left")?this.leftCalendar.calendar[r][i]:this.rightCalendar.calendar[r][i];if(this.endDate||o.isBefore(this.startDate,"day")){if(this.timePicker){var u=parseInt(this.container.find(".left .hourselect").val(),10);if(!this.timePicker24Hour){var a=this.container.find(".left .ampmselect").val();if(a==="PM"&&u<12)u+=12;if(a==="AM"&&u===12)u=0}var f=parseInt(this.container.find(".left .minuteselect").val(),10);var l=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0;o=o.clone().hour(u).minute(f).second(l)}this.endDate=null;this.setStartDate(o.clone())}else if(!this.endDate&&o.isBefore(this.startDate)){this.setEndDate(this.startDate.clone())}else{if(this.timePicker){var u=parseInt(this.container.find(".right .hourselect").val(),10);if(!this.timePicker24Hour){var a=this.container.find(".right .ampmselect").val();if(a==="PM"&&u<12)u+=12;if(a==="AM"&&u===12)u=0}var f=parseInt(this.container.find(".right .minuteselect").val(),10);var l=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0;o=o.clone().hour(u).minute(f).second(l)}this.setEndDate(o.clone());if(this.autoApply){this.calculateChosenLabel();this.clickApply()}}if(this.singleDatePicker){this.setEndDate(this.startDate);if(!this.timePicker)this.clickApply()}this.updateView()},calculateChosenLabel:function(){var e=true;var t=0;for(var n in this.ranges){if(this.timePicker){if(this.startDate.isSame(this.ranges[n][0])&&this.endDate.isSame(this.ranges[n][1])){e=false;this.chosenLabel=this.container.find(".ranges li:eq("+t+")").addClass("active").html();break}}else{if(this.startDate.format("YYYY-MM-DD")==this.ranges[n][0].format("YYYY-MM-DD")&&this.endDate.format("YYYY-MM-DD")==this.ranges[n][1].format("YYYY-MM-DD")){e=false;this.chosenLabel=this.container.find(".ranges li:eq("+t+")").addClass("active").html();break}}t++}if(e){this.chosenLabel=this.container.find(".ranges li:last").addClass("active").html();this.showCalendars()}},clickApply:function(e){this.hide();this.element.trigger("apply.daterangepicker",this)},clickCancel:function(e){this.startDate=this.oldStartDate;this.endDate=this.oldEndDate;this.hide();this.element.trigger("cancel.daterangepicker",this)},monthOrYearChanged:function(e){var n=t(e.target).closest(".calendar").hasClass("left"),r=n?"left":"right",i=this.container.find(".calendar."+r);var s=parseInt(i.find(".monthselect").val(),10);var o=i.find(".yearselect").val();if(!n){if(o<this.startDate.year()||o==this.startDate.year()&&s<this.startDate.month()){s=this.startDate.month();o=this.startDate.year()}}if(this.minDate){if(o<this.minDate.year()||o==this.minDate.year()&&s<this.minDate.month()){s=this.minDate.month();o=this.minDate.year()}}if(this.maxDate){if(o>this.maxDate.year()||o==this.maxDate.year()&&s>this.maxDate.month()){s=this.maxDate.month();o=this.maxDate.year()}}if(n){this.leftCalendar.month.month(s).year(o);if(this.linkedCalendars)this.rightCalendar.month=this.leftCalendar.month.clone().add(1,"month")}else{this.rightCalendar.month.month(s).year(o);if(this.linkedCalendars)this.leftCalendar.month=this.rightCalendar.month.clone().subtract(1,"month")}this.updateCalendars()},timeChanged:function(e){var n=t(e.target).closest(".calendar"),r=n.hasClass("left");var i=parseInt(n.find(".hourselect").val(),10);var s=parseInt(n.find(".minuteselect").val(),10);var o=this.timePickerSeconds?parseInt(n.find(".secondselect").val(),10):0;if(!this.timePicker24Hour){var u=n.find(".ampmselect").val();if(u==="PM"&&i<12)i+=12;if(u==="AM"&&i===12)i=0}if(r){var a=this.startDate.clone();a.hour(i);a.minute(s);a.second(o);this.setStartDate(a);if(this.singleDatePicker){this.endDate=this.startDate.clone()}else if(this.endDate&&this.endDate.format("YYYY-MM-DD")==a.format("YYYY-MM-DD")&&this.endDate.isBefore(a)){this.setEndDate(a.clone())}}else if(this.endDate){var f=this.endDate.clone();f.hour(i);f.minute(s);f.second(o);this.setEndDate(f)}this.updateCalendars();this.updateFormInputs();this.renderTimePicker("left");this.renderTimePicker("right")},formInputsChanged:function(n){var r=t(n.target).closest(".calendar").hasClass("right");var i=e(this.container.find('input[name="daterangepicker_start"]').val(),this.locale.format);var s=e(this.container.find('input[name="daterangepicker_end"]').val(),this.locale.format);if(i.isValid()&&s.isValid()){if(r&&s.isBefore(i))i=s.clone();this.setStartDate(i);this.setEndDate(s);if(r){this.container.find('input[name="daterangepicker_start"]').val(this.startDate.format(this.locale.format))}else{this.container.find('input[name="daterangepicker_end"]').val(this.endDate.format(this.locale.format))}}this.updateCalendars();if(this.timePicker){this.renderTimePicker("left");this.renderTimePicker("right")}},elementChanged:function(){if(!this.element.is("input"))return;if(!this.element.val().length)return;if(this.element.val().length<this.locale.format.length)return;var t=this.element.val().split(this.locale.separator),n=null,r=null;if(t.length===2){n=e(t[0],this.locale.format);r=e(t[1],this.locale.format)}if(this.singleDatePicker||n===null||r===null){n=e(this.element.val(),this.locale.format);r=n}if(!n.isValid()||!r.isValid())return;this.setStartDate(n);this.setEndDate(r);this.updateView()},keydown:function(e){if(e.keyCode===9||e.keyCode===13){this.hide()}},updateElement:function(){if(this.element.is("input")&&!this.singleDatePicker&&this.autoUpdateInput){this.element.val(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format));this.element.trigger("change")}else if(this.element.is("input")&&this.autoUpdateInput){this.element.val(this.startDate.format(this.locale.format));this.element.trigger("change")}},remove:function(){this.container.remove();this.element.off(".daterangepicker");this.element.removeData()}};t.fn.daterangepicker=function(e,r){this.each(function(){var i=t(this);if(i.data("daterangepicker"))i.data("daterangepicker").remove();i.data("daterangepicker",new n(i,e,r))});return this};return n})